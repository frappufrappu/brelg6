<!DOCTYPE html>
<html>
<head>
  <title>Brelshaza G6 NM tiles noob tool</title>
  <style>
	  @import url('https://fonts.googleapis.com/css2?family=Wix+Madefor+Display&display=swap');
	  
body {
  background-color: #f8f9fa;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  
  margin: 0;
  font-family: 'Wix Madefor Display', sans-serif;
}

.grid-container {
  margin-top: 100px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
  gap: 2px;
  width: 250px; /* Adjust the width to make it square */
  height: 250px; /* Adjust the height to make it square */
  transform: rotate(45deg);
  cursor: pointer;
}

.grid-item {
  border: 2px solid #15198f;
  text-align: center;
  font-size: 18px;
  padding: 10px;
  line-height: 1; /* Ensure the content doesn't affect the height */
  transition: background-color 0.3s ease;
}

.grid-item.dead {
  background-color: black;
}

.grid-buttons {
  margin-top: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.input {
	display: flex;
    font-size: 16px;
    margin-top: 15px;
    padding: 2px 4px;
    
    }

    
#numericInput {
	border-radius: 4px;
  padding: 8px 16px;
  font-size: 10px;
  cursor: pointer;
  margin-top: 10px;
  width: 50px;
}
.grid-buttons button, .input button {
  background-color: #346ad2;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
  margin-top: 10px;
}

.container {
display: flex;
flex-direction: column;
align-items: center;
margin: 100px 0px;
}

.grid-buttons button:last-child {
  margin-top: 20px;
}

#blues,#tip {
	margin-top: 20px;
    font-size: 14px;
    
    }

#nextSequence, #nextTextSequence{
      margin-top: 10px;
      font-size: 24px;
      display: flex;
      
    }
    
     /* CSS styles for the switch toggle */
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 34px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #5e5e66;
      -webkit-transition: .4s;
      transition: .4s;
      border-radius: 34px;
    }

    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 26px;
      width: 26px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      -webkit-transition: .4s;
      transition: .4s;
      border-radius: 50%;
    }

    .night:checked + .toggle-slider {
      background-color: #f8f9fa;
    }

    .night:focus + .toggle-slider {
      box-shadow: 0 0 1px #f8f9fa;
    }

    .night:checked + .toggle-slider:before {
      -webkit-transform: translateX(26px);
      -ms-transform: translateX(26px);
      transform: translateX(26px);
    }

    /* End of switch toggle styles */
    
    .nightMode {
    	display: flex;
        justify-content: start;
        width: 100%;
        margin-bottom: -20px;
        padding-top: 5px;
        padding-left: 20px;
        }
    
  </style>
</head>
<body>
<div class="nightMode">
  <label class="toggle-switch">
    <input type="checkbox" class="night" id="toggleCheckbox">
    <span class="toggle-slider"></span>
  </label>
</div>

<div class="input" id="textOne">
  <label for="numericInput" class="input">Respawn timer (seconds):</label>
  <input type="number" id="numericInput">
  <button class="input-button" id="saveButton">Save</button>
  
</div>  
  <div class="grid-container" id="gridContainer"></div>

  <div class="grid-buttons">
    <button id="topGoldenMeteorButton">Top Golden Meteor</button>
    <button id="botGoldenMeteorButton">Bot Golden Meteor</button>
    <button id="resetButton">Reset</button>
  </div>
	
    <div class="container" id="textTwo">
     <span id="blues">Next blues:</span>
	 <span id="nextSequence"></span>
     <span id="tip">Tip:</span>
	 <span id="nextTextSequence"></span>
	</div>
  <script>
    // JavaScript code to generate the grid items
    const gridContainer = document.getElementById('gridContainer');
    const tilesData = [
      [3, 3, 3],
      [3, 14, 3],
      [3, 3, 3]
    ];
    
    const nextSequenceElement = document.getElementById('nextSequence');
    const nextTextSequenceElement = document.getElementById('nextTextSequence');
    const sequence = [2, 3, 4, 3, 4, 3, 4,3,4,3,4,3,4,3,4,3,4]; // The sequence array
    const textSequence = ["The first set of blue meteors usually go on 5 and 7","This set should be spread bottom, on 5, 6 and 7. The party should push below 138 after this set to drop golden meteor at the bottom immediatly (click Bot Golden after placing this set).","The bottom tiles shouldn't be up yet so we have to make sure we don't break anything with this 4 meteors. We usually drop two at 11, or 1, one at 12, and the last one on the remaining top tile (most of the times it will be double 11, 12, and 1). Shandi mech should happen after this.","Once the worship mechanic is over, stay near top and break either 1 or 11 stacking these three meteors. The group should quiclky push below 88 after this to get the next top golden meteor (Click on Top Golden after placing all three).","After this, you can be flexible or follow the spread and break pattern, groups usually have good damage now, but to be sure, drop two at 5 and two at 7.","Now we stack all three on 5 or 7 and push to drop the last golden meteor at 6.","If the group doesn't push fast enough to get to 2nd shapes here, just spread the meteors top and you'll be fine.","Always look at the glow on the tiles to make sure you don't break more than 3!",,"'peer pressure is cyber bullying'",,"'there is no I in team'",,"You still here ?lol",,"burp",,,,,,,]
    
    const toggleCheckbox = document.getElementById('toggleCheckbox');
    const bodyElement = document.body;
    const contentDivOne = document.getElementById('textOne');
    const contentDivTwo = document.getElementById('textTwo');
    contentDivOne.style.color = '#5e5e66';
    contentDivTwo.style.color = '#5e5e66';
    
    let sequenceIndex = 0;
    
    let clickCount = 0;
	let savedValue=5000;
    
    document.getElementById('saveButton').addEventListener('click', () => {
      const inputElement = document.getElementById('numericInput');
      const value = parseInt(inputElement.value, 10);

      if (!isNaN(value)) {
        savedValue = value*1000;
        console.log('Value saved:', savedValue);
      } else {
        console.log('Invalid input. Please enter a numerical value.');
      }
    });
    
    for (let i = 0; i < 3; i++) {
      for (let j = 0; j < 3; j++) {
        const gridItem = document.createElement('div');
        gridItem.classList.add('grid-item');
        gridItem.dataset.hp = tilesData[i][j]; // Set initial HP
        gridItem.addEventListener('click', handleClick); // Add click event listener
        updateTileColor(gridItem); // Update tile color based on initial HP
        gridContainer.appendChild(gridItem);
      }
    }

    const topGoldenMeteorButton = document.getElementById('topGoldenMeteorButton');
    const botGoldenMeteorButton = document.getElementById('botGoldenMeteorButton');
    const resetButton = document.getElementById('resetButton');

    topGoldenMeteorButton.addEventListener('click', () => handleGoldenMeteorClick([0, 1, 3, 4]));
    botGoldenMeteorButton.addEventListener('click', () => handleGoldenMeteorClick([4, 5, 7, 8]));
    resetButton.addEventListener('click', resetHP);

    function handleClick() {
      const hp = parseInt(this.dataset.hp); // Get the current HP
      const reduceAmount = 1; // Default reduction amount for regular clicks
      if (hp > 0) {
        this.dataset.hp = hp - reduceAmount; // Decrease HP by the determined amount
        updateTileColor(this); // Update tile color based on updated HP
        if (hp - reduceAmount <= 0) {
          this.classList.add('dead'); // Add "dead" class when HP reaches or goes below 0
          startTimer(this); // Start the timer to restore HP after 10 seconds
        }
      }checkGameOver();
    }

    function handleGoldenMeteorClick(tileIndices) {
      tileIndices.forEach(index => {
        const tile = gridContainer.children[index];
        const hp = parseInt(tile.dataset.hp);
        if (hp > 0) {
          tile.dataset.hp = hp - 3; // Decrease HP by 3 for Golden Meteor clicks
          updateTileColor(tile); // Update tile color based on updated HP
          if (hp - 3 <= 0) {
            tile.classList.add('dead'); // Add "dead" class when HP reaches or goes below 0
            startTimer(tile); // Start the timer to restore HP after 10 seconds
          }
        }
      });checkGameOver();
    }
    
    function updateNextSequence() {
      nextSequenceElement.textContent = sequence[sequenceIndex];
      nextTextSequenceElement.textContent = textSequence[sequenceIndex];
    }

    updateNextSequence();

    // Add an event listener to the document to track clicks
    document.addEventListener('click', (event) => {
      const target = event.target;

      // Check if the click occurred inside the grid
      if (target.classList.contains('grid-item')) {
        clickCount++;

        if (clickCount === sequence[sequenceIndex]) {
          sequenceIndex++;
          clickCount = 0;

          if (sequenceIndex >= sequence.length) {
            sequenceIndex = 0;
          }

          updateNextSequence();
        }
      }
    });
    
     /*function updateNextTextSequence() {
      nextTextSequenceElement.textContent = textSequence[sequenceIndex];
    }

    updateNextTextSequence();

    // Add an event listener to the document to track clicks
    document.addEventListener('click', (event) => {
      const target = event.target;

      // Check if the click occurred inside the grid
      if (target.classList.contains('grid-item')) {
        clickCount++;

        if (clickCount === sequence[sequenceIndex]) {
          sequenceIndex++;
          clickCount = 0;

          if (sequenceIndex >= sequence.length) {
            sequenceIndex = 0;
          }

          updateNextTextSequence();
        }
      }
    });*/
    
    function startTimer(tile) {
      const timer = setTimeout(() => {
        tile.dataset.hp = 3; // Restore HP to the tile
        tile.classList.remove('dead'); // Remove "dead" class
        updateTileColor(tile); // Update tile color
        clearTimeout(timer); // Clear the timer
      }, savedValue);
    }
    
    function resetHP() {
  const tiles = gridContainer.getElementsByClassName('grid-item');
  for (let i = 0; i < tiles.length; i++) {
    const tile = tiles[i];
    if (i === 4) {
      tile.dataset.hp = 14; // Restore 14 HP to the center tile
    } else {
      tile.dataset.hp = 3; // Reset HP to the default value for other tiles
    }
    tile.classList.remove('dead'); // Remove "dead" class
    updateTileColor(tile); // Update tile color
  }sequenceIndex = 0;
      updateNextSequence();
      updateNextTextSequence();
}

    function checkGameOver() {
  const tiles = gridContainer.getElementsByClassName('grid-item');
  let deadCount = 0;

  for (let i = 0; i < tiles.length; i++) {
    const tile = tiles[i];
    if (tile.classList.contains('dead')) {
      deadCount++;
    }
  }

  if (deadCount > 3 || tiles[4].classList.contains('dead')) {
    alert("You wiped, bozo");
  }
}

    function updateTileColor(tile) {
      const hp = parseInt(tile.dataset.hp);
      const maxHP = 14; // Maximum HP value
      const brightness = (hp / maxHP) * 70 + 30; // Calculate brightness value based on HP
      if (hp > 0) {
        tile.style.backgroundColor = `hsl(207, 100%, ${brightness}%)`; // Set tile color using HSL
      } else {
        tile.style.backgroundColor = 'black'; // Set tile color to black when HP reaches 0
      }
    }
    
    toggleCheckbox.addEventListener('change', () => {
      if (toggleCheckbox.checked) {
        bodyElement.style.backgroundColor = '#242426';
        contentDivOne.style.color = '#f8f9fa';
        contentDivTwo.style.color = '#f8f9fa';
      } else {
        bodyElement.style.backgroundColor = '#f8f9fa';
        contentDivOne.style.color = '#5e5e66';
        contentDivTwo.style.color = '#5e5e66';
      }
    });
    
  </script>
</body>
</html>
